@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Update";
    Layout = "~/Pages/Shared/_LayoutAdmin.cshtml";
}

<div class="container-fluid" style="margin-top: 100px">
    <h1>Update Product Key</h1>
    <h4><img src="~/WebStorage/Images/ProductImages/@(ViewBag.prdDetail.Image)" style="width: 50px" /> @(ViewBag.prdDetail.ProductName)</h4>
    <hr />
    <form action="/ProductKey/Update" method="post">
        <input type="hidden" name="keyId" value="@(ViewBag.prdKeyDetail.KeyId)" />
        <dl class="row">
            <dt class="col-sm-2">
                Product
            </dt>
            <dd class="col-sm-10">

                <select name="productId" class="form-control form-control-lg bg-light border-1 px-4">
                    @{
                        foreach (var prd in @ViewBag.prdList)
                        {
                            if (prd.ProductId == ViewBag.prdKeyDetail.ProductProductId)
                            {
                                <option value="@(prd.ProductId)" selected>@(prd.ProductName)</option>
                            }
                            else
                            {
                                <option value="@(prd.ProductId)">@(prd.ProductName)</option>
                            }
                        }
                    }
                </select>
            </dd>
            <dt class="col-sm-2">
                Key Value
            </dt>
            <dd class="col-sm-10">
                <input class="form-control form-control-lg bg-light border-1 px-4" name="keyValue" placeholder="@(ViewBag.prdKeyDetail.getFormatedKeyValue())" />
            </dd>
            <dt class="col-sm-2">
                Expiration Date
            </dt>
            <dd class="col-sm-10">
                <input class="form-control bg-light border-1 px-4" id="dateInputStr" pattern="\d{2}-\d{2}-\d{4}" placeholder="dd-mm-yyyy" style="height: 55px" type="text" name="expirationDate" value="@(ViewBag.prdKeyDetail.ExpirationDate)" />
            </dd>
            <dt class="col-sm-2">

            </dt>
            <dd class="col-sm-10">
                <input type="submit" class="btn btn-success" value="Save" />
                <a asp-action="Index" class="btn btn-primary">Back to List</a>
            </dd>
        </dl>
    </form>
</div>

